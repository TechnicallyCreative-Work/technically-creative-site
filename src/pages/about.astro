---
import Layout from '~/layouts/PageLayout.astro';
import Header from '~/components/widgets/Header.astro';
import Hero from '~/components/widgets/Hero.astro';
import Content from '~/components/widgets/Content.astro';
import CallToAction from '~/components/widgets/CallToAction.astro';
import { getPermalink } from '~/utils/permalinks';

// Import profile image from src/assets so Astro infers width/height
import profilePic from '../assets/images/profile-pic.jpg';
import studioHero from '../assets/images/studio-hero-16x9-cyberpunk.png';

const metadata = {
  title: 'About — Kenny Dunn, PMP',
  image: profilePic,
};

const links = [
  { text: 'Home', href: '/' },
  { text: 'Services', href: '/services' },
  { text: 'About', href: '/about' },
  { text: 'Personal', href: '/personal' },
  { text: 'Contact', href: '/contact' },
];
---

<Layout metadata={metadata}>
  <Fragment slot="header">
    <Header links={links} isSticky showToggleTheme />
  </Fragment>

  <!-- Hero -->
  <Hero
    id="hero"
    title="About Kenny Dunn"
    tagline="Music technology + project delivery, working in harmony"
    actions={[{ variant: 'primary', text: 'Work with me', href: getPermalink('/contact#form') }]}
  >
    <Fragment slot="subtitle">
      I build reliable creative pipelines for artists and teams—combining audio craft with PMP-certified structure.
      Results: cleaner mixes, clearer timelines, and calmer projects.
    </Fragment>
  </Hero>
  <!-- Studio Hero Image Section -->
  <section class="mx-auto max-w-6xl px-6 py-12">
    <img
      src={studioHero}
      alt="Kenny Dunn’s cyberpunk-inspired studio setup with curved monitor, speakers, and controllers"
      class="w-full rounded-2xl shadow-xl"
      loading="lazy"
    />
  </section>

  <!-- Bio / Photo -->
  <Content
    id="bio"
    title="Who I am"
    subtitle="Audio · Music Technology · Project Management"
    items={[
      {
        title: 'Focus',
        description:
          'Mixing & mastering, sound design & Foley, music tech consulting, and workflow automation for creative teams.',
      },
      {
        title: 'Approach',
        description:
          'Blend creative taste with measurable delivery. Lightweight process, strong communication, tight handoffs.',
      },
      {
        title: 'Methods',
        description: 'PMP, Agile, and Lean Six Sigma—applied pragmatically to creative work so momentum never stalls.',
      },
    ]}
    image={{
      src: profilePic, // imported asset => size inferred (no CLS)
      alt: 'Kenny Dunn in studio, arms crossed, circuit display background',
      loading: 'eager',
    }}
  >
    <Fragment slot="content">
      <p class="mb-4">
        I’ve worked across indie projects and corporate initiatives, translating creative goals into shippable plans.
        Comfortable in DAWs and dashboards alike, I keep projects scoped, scheduled, and finished—without dulling the
        art.
      </p>
      <p class="mb-4">
        Recent work spans <em>Envita Solutions</em> (2018–Present) and co-founding
        <em> Indianapolis Independent Entertainment LLC (IIE LLC)</em> (2022–2025), supporting DIY and independent artists
        to grow the creative economy in Indianapolis.
      </p>
      <p class="text-slate-600 dark:text-slate-400">
        Credentials: Master’s in Music Technology · PMP · Business Foundations (Kelley School of Business, 2011) · Lean
        Six Sigma.
      </p>
    </Fragment>

    <Fragment slot="bg">
      <div class="absolute inset-0 bg-blue-50 dark:bg-transparent"></div>
    </Fragment>
  </Content>

  <!-- CTA -->
  <CallToAction
    title="Let’s collaborate"
    subtitle="Have a timeline, a reference track, or a production brief? I’ll turn it into a clear plan with milestones and previews."
    actions={[{ variant: 'primary', text: 'Get in touch', href: getPermalink('/contact#form') }]}
  />
</Layout>
